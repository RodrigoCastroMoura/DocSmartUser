
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Token Expirado - Doc Smart</title>
    <!-- Theme initialization script -->
    <script>
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }
        // Initialize theme immediately
        const savedTheme = localStorage.getItem('theme') || 'light';
        setTheme(savedTheme);
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <script src="https://unpkg.com/feather-icons"></script>
    <style>
        .expired-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background-color: var(--bg-primary);
        }
        
        .expired-card {
            background-color: var(--bg-secondary);
            border-radius: 12px;
            padding: 2.5rem;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            text-align: center;
            animation: fadeIn 0.5s ease-in-out;
        }
        
        .expired-icon {
            margin-bottom: 1.5rem;
        }
        
        .expired-icon i {
            color: var(--danger-color);
            width: 80px;
            height: 80px;
            stroke-width: 1.5;
        }
        
        .expired-title {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }
        
        .expired-message {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }
        
        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }
        
        .back-button:hover {
            background-color: var(--accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(var(--accent-rgb), 0.3);
        }
        
        .theme-toggle {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        
        .theme-toggle:hover {
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .security-notice {
            margin-top: 2.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .security-notice i {
            margin-right: 0.5rem;
            color: var(--danger-color);
        }
        
        @media (max-width: 768px) {
            .expired-card {
                padding: 2rem 1rem;
            }
            
            .theme-toggle {
                top: 1rem;
                right: 1rem;
            }
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">
        <i data-feather="moon" id="dark-icon"></i>
        <i data-feather="sun" id="light-icon" style="display: none;"></i>
    </button>
    
    <div class="expired-container">
        <div class="expired-card">
            <div class="expired-icon">
                <i data-feather="clock"></i>
            </div>
            <h1 class="expired-title">Token Expirado ou Inválido</h1>
            <p class="expired-message">
                Parece que seu link de autenticação expirou ou já foi utilizado. 
                Por motivos de segurança, os links são válidos por apenas um curto período de tempo 
                ou podem ser utilizados apenas uma vez.
            </p>
            <a href="{{ url_for('login') }}" class="back-button">
                <i data-feather="log-in"></i>
                Voltar para a tela de login
            </a>
            
            <div class="security-notice">
                <i data-feather="shield"></i>
                <span>Se você não solicitou uma redefinição de senha ou autenticação, 
                ignore esta mensagem e verifique a segurança de sua conta.</span>
            </div>
        </div>
    </div>
    
    <script>
        feather.replace();
        
        function toggleTheme() {
            const currentTheme = localStorage.getItem('theme') || 'light';
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            setTheme(newTheme);
            updateThemeIcons(newTheme);
        }
        
        function updateThemeIcons(theme) {
            const darkIcon = document.getElementById('dark-icon');
            const lightIcon = document.getElementById('light-icon');
            
            if (theme === 'dark') {
                darkIcon.style.display = 'none';
                lightIcon.style.display = 'block';
            } else {
                darkIcon.style.display = 'block';
                lightIcon.style.display = 'none';
            }
        }
        
        // Initialize icon state
        updateThemeIcons(localStorage.getItem('theme') || 'light');
    </script>
</body>
</html>
